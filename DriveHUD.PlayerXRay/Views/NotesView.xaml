<UserControl
    x:Class="DriveHUD.PlayerXRay.Views.NotesView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ctl="clr-namespace:DriveHUD.PlayerXRay.Controls"
    xmlns:cnv="clr-namespace:DriveHUD.PlayerXRay.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:DriveHUD.PlayerXRay.Views"
    xmlns:vm="clr-namespace:DriveHUD.PlayerXRay.ViewModels"
    xmlns:dh="http://www.acepokersolutions.com/winfx/2015/xaml/presentation"
    xmlns:nt="clr-namespace:DriveHUD.PlayerXRay.DataTypes.NotesTreeObjects"
    xmlns:dt="clr-namespace:DriveHUD.PlayerXRay.DataTypes"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
    xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
    mc:Ignorable="d"
    d:DesignWidth="1000"
    d:DesignHeight="999">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary
                    Source="../PlayerXRayStyles.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <GridLength
                x:Key="SpaceBetweenRows">12</GridLength>
            <GridLength
                x:Key="FirstColumnWidth">115</GridLength>
            <GridLength
                x:Key="SecondColumnWidth">115</GridLength>
            <GridLength
                x:Key="ThirdColumnWidth">88</GridLength>

            <Style
                x:Key="StreetHeaderMenuButtonStyle"
                TargetType="{x:Type ctl:MenuButton}"
                BasedOn="{StaticResource MenuButtonStyle}">

                <Setter
                    Property="Height"
                    Value="40" />

                <Setter
                    Property="Margin"
                    Value="0,0,18,0" />

                <Setter
                    Property="GroupName"
                    Value="NoteStageGroup" />

            </Style>

            <Style
                x:Key="NoteSettingsHeaderMenuButtonStyle"
                TargetType="{x:Type ctl:MenuButton}"
                BasedOn="{StaticResource StreetHeaderMenuButtonStyle}">

                <Setter
                    Property="Margin"
                    Value="0,0,10,0" />

                <Setter
                    Property="GroupName"
                    Value="NoteSettingsGroup" />

            </Style>

            <Style
                x:Key="NoteSettingsTabControlStyle"
                TargetType="{x:Type TabControl}">
                <Setter
                    Property="Padding"
                    Value="0,15,0,15" />
                <Setter
                    Property="HorizontalContentAlignment"
                    Value="Center" />
                <Setter
                    Property="VerticalContentAlignment"
                    Value="Center" />
                <Setter
                    Property="Background"
                    Value="Transparent" />
                <Setter
                    Property="BorderThickness"
                    Value="0" />
                <Setter
                    Property="Template">
                    <Setter.Value>
                        <ControlTemplate
                            TargetType="{x:Type TabControl}">
                            <Grid
                                ClipToBounds="true"
                                SnapsToDevicePixels="true">
                                <Grid.RowDefinitions>
                                    <RowDefinition
                                        Height="Auto" />
                                    <RowDefinition
                                        Height="*" />
                                </Grid.RowDefinitions>
                                <TabPanel
                                    Background="Transparent"
                                    IsItemsHost="true" />
                                <Border
                                    Grid.Row="1"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Background="{TemplateBinding Background}">
                                    <ContentPresenter
                                        x:Name="PART_SelectedContentHost"
                                        ContentSource="SelectedContent"
                                        Margin="{TemplateBinding Padding}"
                                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                </Border>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style
                x:Key="NoteSettingsTabItemStyle"
                TargetType="{x:Type TabItem}">
                <Setter
                    Property="FocusVisualStyle"
                    Value="{x:Null}" />
                <Setter
                    Property="Foreground"
                    Value="{StaticResource ForegroundBrush}" />
                <Setter
                    Property="Background"
                    Value="Transparent" />
                <Setter
                    Property="BorderBrush"
                    Value="{StaticResource SelectionBackgroundBrush}" />
                <Setter
                    Property="BorderThickness"
                    Value="0,0,0,4" />
                <Setter
                    Property="Margin"
                    Value="0" />
                <Setter
                    Property="Height"
                    Value="40" />
                <Setter
                    Property="HorizontalContentAlignment"
                    Value="Stretch" />
                <Setter
                    Property="VerticalContentAlignment"
                    Value="Stretch" />
                <Setter
                    Property="Template">
                    <Setter.Value>
                        <ControlTemplate
                            TargetType="{x:Type TabItem}">
                            <Grid
                                x:Name="templateRoot"
                                Cursor="Hand"
                                SnapsToDevicePixels="true">
                                <Border
                                    x:Name="mainBorder"
                                    BorderBrush="Transparent"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Background="Transparent"
                                    Opacity="0.5"
                                    Margin="5,0,5,0">
                                    <ContentPresenter
                                        x:Name="contentPresenter"
                                        ContentSource="Header"
                                        Focusable="False"
                                        HorizontalAlignment="{Binding HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"
                                        Margin="{TemplateBinding Padding}"
                                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                        VerticalAlignment="{Binding VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
                                </Border>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <DataTrigger
                                    Binding="{Binding IsMouseOver, RelativeSource={RelativeSource Self}}"
                                    Value="true">
                                    <Setter
                                        TargetName="mainBorder"
                                        Property="BorderBrush"
                                        Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=BorderBrush}" />
                                    <Setter
                                        TargetName="mainBorder"
                                        Property="Opacity"
                                        Value="1" />
                                </DataTrigger>
                                <DataTrigger
                                    Binding="{Binding IsSelected, RelativeSource={RelativeSource Self}}"
                                    Value="true">
                                    <Setter
                                        TargetName="mainBorder"
                                        Property="BorderBrush"
                                        Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=BorderBrush}" />
                                    <Setter
                                        TargetName="mainBorder"
                                        Property="Opacity"
                                        Value="1" />
                                </DataTrigger>
                                <DataTrigger
                                    Binding="{Binding IsSelected, RelativeSource={RelativeSource Self}}"
                                    Value="true">
                                    <Setter
                                        TargetName="mainBorder"
                                        Property="BorderBrush"
                                        Value="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=BorderBrush}" />
                                    <Setter
                                        TargetName="mainBorder"
                                        Property="Opacity"
                                        Value="1" />
                                </DataTrigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style
                x:Key="HandValuesSettingsTabItemStyle"
                TargetType="{x:Type TabItem}"
                BasedOn="{StaticResource NoteSettingsTabItemStyle}">

                <Setter
                    Property="Height"
                    Value="30" />
            </Style>

            <Style
                x:Key="SwitchModeButtonStyle"
                TargetType="{x:Type Button}"
                BasedOn="{StaticResource {x:Type Button}}">

                <Setter
                    Property="Width"
                    Value="126" />

                <Setter
                    Property="Height"
                    Value="24" />

                <Setter
                    Property="HorizontalAlignment"
                    Value="Right" />

                <Setter
                    Property="VerticalAlignment"
                    Value="Center" />

            </Style>

            <Style
                x:Key="SwitchModeButtonStyleNoBackground"
                TargetType="{x:Type Button}"
                BasedOn="{StaticResource SwitchModeButtonStyle}">

                <Setter
                    Property="BorderThickness"
                    Value="1" />

                <Setter
                    Property="BorderBrush"
                    Value="{StaticResource ForegroundBrush}" />

                <Setter
                    Property="Background"
                    Value="Transparent" />

            </Style>

            <Style
                x:Key="BoxStyle"
                TargetType="{x:Type GroupBox}"
                BasedOn="{StaticResource {x:Type GroupBox}}">

                <Setter
                    Property="Margin"
                    Value="15,16,15,0" />

                <Setter
                    Property="Padding"
                    Value="15,14,15,12" />

            </Style>

            <Style
                x:Key="StreetMenuButtonStyle"
                TargetType="{x:Type ctl:MenuButton}"
                BasedOn="{StaticResource MenuButtonStyle}">

                <Setter
                    Property="Height"
                    Value="30" />

                <Setter
                    Property="Margin"
                    Value="0,0,5,0" />

            </Style>

            <Style
                x:Key="HandValuesListBoxStyle"
                TargetType="{x:Type ListBox}"
                BasedOn="{StaticResource {x:Type ListBox}}">

                <Setter
                    Property="Margin"
                    Value="0,5,0,0" />

                <Setter
                    Property="Background"
                    Value="Transparent" />

                <Setter
                    Property="Foreground"
                    Value="{StaticResource ForegroundBrush}" />

                <Setter
                    Property="BorderBrush"
                    Value="{StaticResource BorderBrush}" />

                <Setter
                    Property="BorderThickness"
                    Value="1" />

                <Setter
                    Property="Height"
                    Value="82" />

                <Setter
                    Property="Width"
                    Value="350" />

                <Setter
                    Property="HorizontalAlignment"
                    Value="Left" />

                <Setter
                    Property="ScrollViewer.CanContentScroll"
                    Value="True" />

                <Setter
                    Property="ScrollViewer.HorizontalScrollBarVisibility"
                    Value="Disabled" />

                <Setter
                    Property="ScrollViewer.VerticalScrollBarVisibility"
                    Value="Auto" />

                <Setter
                    Property="SelectionMode"
                    Value="Extended" />

            </Style>

            <Style
                x:Key="HandValueListBoxItemStyle"
                BasedOn="{StaticResource ListBoxItemStyle}"
                TargetType="{x:Type ListBoxItem}">

                <Setter
                    Property="IsSelected"
                    Value="{Binding IsSelected}" />

            </Style>

            <cnv:ActionToBetweenVisibilityConverter
                x:Key="ActionToBetweenVisibilityConverter" />

            <cnv:TreeMultiBindingConverter
                x:Key="TreeMultiBindingConverter" />

            <cnv:CollectionViewGroupConverter
                x:Key="CollectionViewGroupConverter" />

        </ResourceDictionary>
    </UserControl.Resources>
    <Grid
        Margin="8,9,8,9">

        <Grid.ColumnDefinitions>
            <ColumnDefinition
                Width="340" />
            <ColumnDefinition
                Width="15" />
            <ColumnDefinition
                Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Notes -->
        <Border
            BorderBrush="{StaticResource BorderBrush}"
            BorderThickness="1"
            Background="{StaticResource PanelBackgroundBrush}">

            <Border.Effect>
                <DropShadowEffect
                    BlurRadius="7"
                    ShadowDepth="0"
                    Color="{DynamicResource DropShadowColor}" />
            </Border.Effect>

            <Grid>

                <Grid.RowDefinitions>
                    <RowDefinition
                        Height="40" />
                    <RowDefinition
                        Height="*" />
                    <RowDefinition
                        Height="33" />
                </Grid.RowDefinitions>

                <Border
                    BorderThickness="0,0,0,1"
                    BorderBrush="{StaticResource BorderBrush}"
                    Height="40" />

                <StackPanel
                    Margin="10,0,0,0"
                    HorizontalAlignment="Left"
                    Orientation="Horizontal">

                    <ctl:MenuButton
                        Style="{StaticResource StreetHeaderMenuButtonStyle}"
                        Width="70"
                        IsChecked="{Binding NoteStageType, Converter={dh:EnumBoolConverter}, ConverterParameter={x:Static dt:NoteStageType.PreFlop}}"
                        Content="PRE-FLOP" />

                    <ctl:MenuButton
                        Style="{StaticResource StreetHeaderMenuButtonStyle}"
                        Width="60"
                        IsChecked="{Binding NoteStageType, Converter={dh:EnumBoolConverter}, ConverterParameter={x:Static dt:NoteStageType.Flop}}"
                        Content="FLOP" />

                    <ctl:MenuButton
                        Style="{StaticResource StreetHeaderMenuButtonStyle}"
                        Width="60"
                        IsChecked="{Binding NoteStageType, Converter={dh:EnumBoolConverter}, ConverterParameter={x:Static dt:NoteStageType.Turn}}"
                        Content="TURN" />

                    <ctl:MenuButton
                        Style="{StaticResource StreetHeaderMenuButtonStyle}"
                        Width="65"
                        IsChecked="{Binding NoteStageType, Converter={dh:EnumBoolConverter}, ConverterParameter={x:Static dt:NoteStageType.River}}"
                        Content="RIVER" />

                </StackPanel>

                <TreeView
                    Grid.Row="1"
                    Margin="0,10,0,0"
                    Foreground="{StaticResource ForegroundBrush}"
                    FontFamily="/Fonts/#Roboto Regular"
                    ItemsSource="{Binding Stages, Mode=OneWay}"
                    FontSize="12">

                    <i:Interaction.Behaviors>
                        <cnv:TreeViewSelectItemBehavior
                            SelectedItem="{Binding SelectedStage}" />
                    </i:Interaction.Behaviors>

                    <TreeView.Resources>
                        <HierarchicalDataTemplate
                            DataType="{x:Type nt:StageObject}">
                            <TextBlock
                                Text="{Binding StageType}"
                                Margin="3,0,0,0" />
                            <HierarchicalDataTemplate.ItemsSource>
                                <MultiBinding
                                    Converter="{StaticResource TreeMultiBindingConverter}">
                                    <Binding
                                        Path="InnerGroups" />
                                    <Binding
                                        Path="Notes" />
                                </MultiBinding>
                            </HierarchicalDataTemplate.ItemsSource>
                        </HierarchicalDataTemplate>
                        <HierarchicalDataTemplate
                            DataType="{x:Type nt:InnerGroupObject}"
                            ItemsSource="{Binding Notes}">
                            <TextBlock
                                Text="{Binding Name}"
                                Margin="3,0,0,0" />
                        </HierarchicalDataTemplate>
                        <DataTemplate
                            DataType="{x:Type nt:NoteObject}">
                            <TextBlock
                                Text="{Binding Name}" />
                        </DataTemplate>
                    </TreeView.Resources>
                </TreeView>

                <Border
                    Grid.Row="2"
                    BorderBrush="{StaticResource BorderBrush}"
                    BorderThickness="1"
                    Background="{StaticResource BorderBrush}">
                    <Border.Effect>
                        <DropShadowEffect
                            BlurRadius="7"
                            ShadowDepth="0"
                            Color="{DynamicResource DropShadowColor}" />
                    </Border.Effect>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition
                                Width="*" />
                            <ColumnDefinition
                                Width="*" />
                            <ColumnDefinition
                                Width="*" />
                            <ColumnDefinition
                                Width="*" />
                        </Grid.ColumnDefinitions>

                        <Button
                            Style="{StaticResource SimpleImageButtonStyle}"
                            HorizontalAlignment="Center"
                            Command="{Binding AddNoteCommand}"
                            VerticalAlignment="Center">
                            <StackPanel
                                Orientation="Horizontal">
                                <Image
                                    Source="/DriveHUD.PlayerXRay;component/Resources/AddButton.png"
                                    Height="20"
                                    Width="19" />
                                <TextBlock
                                    Margin="8,0,0,0"
                                    FontSize="12"
                                    Text="ADD" />
                            </StackPanel>
                        </Button>

                        <Button
                            Grid.Column="1"
                            Style="{StaticResource SimpleImageButtonStyle}"
                            HorizontalAlignment="Center"
                            Command="{Binding EditNoteCommand}"
                            VerticalAlignment="Center">
                            <StackPanel
                                Orientation="Horizontal">
                                <Image
                                    Source="/DriveHUD.PlayerXRay;component/Resources/EditButton.png"
                                    Height="20"
                                    Width="19" />
                                <TextBlock
                                    Margin="8,0,0,0"
                                    FontSize="12"
                                    Text="EDIT" />
                            </StackPanel>
                        </Button>

                        <Button
                            Grid.Column="2"
                            Style="{StaticResource SimpleImageButtonStyle}"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center">
                            <StackPanel
                                Orientation="Horizontal">
                                <Image
                                    Source="/DriveHUD.PlayerXRay;component/Resources/ExportButton.png"
                                    Height="20"
                                    Width="20" />
                                <TextBlock
                                    Margin="8,0,0,0"
                                    FontSize="12"
                                    Text="EXPORT" />
                            </StackPanel>
                        </Button>

                        <Button
                            Grid.Column="3"
                            Style="{StaticResource SimpleImageButtonStyle}"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Command="{Binding RemoveNoteCommand}">
                            <StackPanel
                                Orientation="Horizontal">
                                <Image
                                    Source="/DriveHUD.PlayerXRay;component/Resources/DeleteButton.png"
                                    Height="20"
                                    Width="16" />
                                <TextBlock
                                    Margin="8,0,0,0"
                                    FontSize="12"
                                    Text="DELETE" />
                            </StackPanel>
                        </Button>

                    </Grid>

                </Border>

            </Grid>

        </Border>

        <!-- Note settings -->
        <Border
            Grid.Column="2"
            BorderBrush="{StaticResource BorderBrush}"
            BorderThickness="1"
            Background="{StaticResource PanelBackgroundBrush}">

            <Border.Effect>
                <DropShadowEffect
                    BlurRadius="7"
                    ShadowDepth="0"
                    Color="{DynamicResource DropShadowColor}" />
            </Border.Effect>

            <Grid
                Visibility="{Binding SelectedNote, Converter={dh:NullToVisibilityConverter}}">

                <Border
                    VerticalAlignment="Top"
                    BorderThickness="0,0,0,1"
                    BorderBrush="{StaticResource BorderBrush}"
                    Height="40" />

                <!-- SIMPLE SETTINGS  -->
                <TabControl
                    BorderThickness="0"
                    Margin="0"
                    VerticalAlignment="Stretch"
                    Visibility="{Binding IsAdvancedMode, Converter={dh:BoolToVisibilityConverter}, ConverterParameter=1}"
                    ItemContainerStyle="{DynamicResource NoteSettingsTabItemStyle}"
                    Style="{DynamicResource NoteSettingsTabControlStyle}">

                    <!-- GENERAL settings -->
                    <TabItem
                        Width="90"
                        VerticalContentAlignment="Top"
                        Header="GENERAL">
                        <ScrollViewer
                            VerticalScrollBarVisibility="Auto"
                            VerticalAlignment="Top">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition
                                        Height="Auto" />
                                    <RowDefinition
                                        Height="Auto" />
                                    <RowDefinition
                                        Height="Auto" />
                                    <RowDefinition
                                        Height="Auto" />
                                    <RowDefinition
                                        Height="Auto" />
                                    <RowDefinition
                                        Height="Auto" />
                                    <RowDefinition
                                        Height="Auto" />
                                    <RowDefinition
                                        Height="Auto" />
                                </Grid.RowDefinitions>

                                <TextBlock
                                    Margin="15,0,0,0"
                                    HorizontalAlignment="Left"
                                    Text="{Binding SelectedNote.Name}"
                                    FontSize="14"
                                    FontWeight="Bold" />

                                <StackPanel
                                    Margin="0,0,15,0"
                                    HorizontalAlignment="Right"
                                    Orientation="Horizontal">
                                    <CheckBox
                                        Style="{StaticResource CheckBoxStyle}"
                                        IsChecked="{Binding SelectedNote.Settings.TypeNoLimit}"
                                        Content="No-Limits" />
                                    <CheckBox
                                        Style="{StaticResource CheckBoxStyle}"
                                        IsChecked="{Binding SelectedNote.Settings.TypePotLimit}"
                                        Margin="15,0,0,0"
                                        Content="Pot-Limits" />
                                    <CheckBox
                                        Style="{StaticResource CheckBoxStyle}"
                                        IsChecked="{Binding SelectedNote.Settings.TypeLimit}"
                                        Margin="15,0,0,0"
                                        Content="Limits" />
                                </StackPanel>

                                <!--<GroupBox
                                    Grid.Row="1"
                                    Style="{StaticResource BoxStyle}"
                                    Header="Stakes">

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition
                                                Width="*" />
                                            <ColumnDefinition
                                                Width="125" />
                                        </Grid.ColumnDefinitions>

                                        <StackPanel>
                                            <CheckBox
                                                Style="{StaticResource CheckBoxStyle}"
                                                Content="$0.1 NL (6 max)" />

                                            <CheckBox
                                                Style="{StaticResource CheckBoxStyle}"
                                                Margin="0,12,0,0"
                                                Content="$2 NL (6 max)" />
                                        </StackPanel>

                                        <StackPanel
                                            VerticalAlignment="Top"
                                            Grid.Column="1">

                                            <Button
                                                Content="CHECK ALL"
                                                Width="125"
                                                Style="{StaticResource SwitchModeButtonStyle}" />

                                            <Button
                                                Margin="0,8,0,0"
                                                Width="125"
                                                Content="UNCHECK ALL"
                                                Style="{StaticResource SwitchModeButtonStyle}" />

                                        </StackPanel>

                                    </Grid>

                                </GroupBox>-->

                                <GroupBox
                                    Grid.Row="2"
                                    Height="110"
                                    Style="{StaticResource BoxStyle}"
                                    Header="Number of players">

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition
                                                Width="{StaticResource FirstColumnWidth}" />
                                            <ColumnDefinition
                                                Width="{StaticResource SecondColumnWidth}" />
                                            <ColumnDefinition
                                                Width="{StaticResource ThirdColumnWidth}" />
                                            <ColumnDefinition
                                                Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition
                                                Height="Auto" />
                                            <RowDefinition
                                                Height="{StaticResource SpaceBetweenRows}" />
                                            <RowDefinition
                                                Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <CheckBox
                                            Grid.Column="0"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PlayersNoHeadsUp}"
                                            IsEnabled="{Binding SelectedNote.Settings.PlayersNoCustom, Converter={dh:BoolNotConverter}}"
                                            Content="Heads-Up" />

                                        <CheckBox
                                            Grid.Column="1"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PlayersNo34}"
                                            IsEnabled="{Binding SelectedNote.Settings.PlayersNoCustom, Converter={dh:BoolNotConverter}}"
                                            Content="3-4 handed" />

                                        <CheckBox
                                            Grid.Column="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PlayersNo56}"
                                            IsEnabled="{Binding SelectedNote.Settings.PlayersNoCustom, Converter={dh:BoolNotConverter}}"
                                            Content="5-6" />

                                        <CheckBox
                                            Grid.Column="3"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PlayersNoMax}"
                                            IsEnabled="{Binding SelectedNote.Settings.PlayersNoCustom, Converter={dh:BoolNotConverter}}"
                                            Content="7-10" />

                                        <CheckBox
                                            x:Name="cbCustom"
                                            Grid.Column="0"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PlayersNoCustom}"
                                            Content="Custom" />

                                        <StackPanel
                                            Grid.Column="1"
                                            Grid.ColumnSpan="3"
                                            Grid.Row="2"
                                            IsEnabled="{Binding SelectedNote.Settings.PlayersNoCustom}"
                                            Orientation="Horizontal"
                                            VerticalAlignment="Center">

                                            <TextBlock
                                                FontSize="12"
                                                Text="Between" />

                                            <xctk:ByteUpDown
                                                Margin="9,0,9,0"
                                                VerticalAlignment="Center"
                                                Value="{Binding SelectedNote.Settings.PlayersNoMinVal}"
                                                Minimum="2"
                                                Maximum="10" />

                                            <TextBlock
                                                FontSize="12"
                                                Text="and" />

                                            <xctk:ByteUpDown
                                                Margin="9,0,9,0"
                                                VerticalAlignment="Center"
                                                Value="{Binding SelectedNote.Settings.PlayersNoMaxVal}"
                                                Minimum="2"
                                                Maximum="10" />

                                            <TextBlock
                                                FontSize="12"
                                                Text="number of players" />

                                        </StackPanel>

                                    </Grid>

                                </GroupBox>

                                <GroupBox
                                    Grid.Row="3"
                                    Style="{StaticResource BoxStyle}"
                                    Header="Position">

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition
                                                Width="{StaticResource FirstColumnWidth}" />
                                            <ColumnDefinition
                                                Width="{StaticResource SecondColumnWidth}" />
                                            <ColumnDefinition
                                                Width="{StaticResource ThirdColumnWidth}" />
                                            <ColumnDefinition
                                                Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition
                                                Height="{StaticResource SpaceBetweenRows}" />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <CheckBox
                                            Grid.Column="0"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionSB}"
                                            Content="Small Blind" />

                                        <CheckBox
                                            Grid.Column="1"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionEarly}"
                                            Content="Early" />

                                        <CheckBox
                                            Grid.Column="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionCutoff}"
                                            Content="Cutoff" />

                                        <CheckBox
                                            Grid.Column="0"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionBB}"
                                            Content="Big Blind" />

                                        <CheckBox
                                            Grid.Column="1"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionMiddle}"
                                            Content="Middle" />

                                        <CheckBox
                                            Grid.Column="2"
                                            Grid.Row="2"
                                            IsChecked="{Binding SelectedNote.Settings.PositionButton}"
                                            Style="{StaticResource CheckBoxStyle}"
                                            Content="Button" />

                                    </Grid>

                                </GroupBox>

                                <GroupBox
                                    Grid.Row="4"
                                    Style="{StaticResource BoxStyle}"
                                    Header="Preflop Action Facing Player">

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition
                                                Width="{StaticResource FirstColumnWidth}" />
                                            <ColumnDefinition
                                                Width="{StaticResource SecondColumnWidth}" />
                                            <ColumnDefinition
                                                Width="{StaticResource ThirdColumnWidth}" />
                                            <ColumnDefinition
                                                Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition
                                                Height="{StaticResource SpaceBetweenRows}" />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <CheckBox
                                            Grid.Column="0"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.FacingUnopened}"
                                            Content="Unopened" />

                                        <CheckBox
                                            Grid.Column="1"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.Facing2PlusLimpers}"
                                            Content="2+ Limpers" />

                                        <CheckBox
                                            Grid.Column="2"
                                            Grid.ColumnSpan="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.FacingRaisersCallers}"
                                            Content="Raisers+Caller(s)" />

                                        <CheckBox
                                            Grid.Column="0"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.Facing1Limper}"
                                            Content="1 Limper" />

                                        <CheckBox
                                            Grid.Column="1"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.Facing1Raiser}"
                                            Content="1 Raiser" />

                                        <CheckBox
                                            Grid.Column="2"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.Facing2Raisers}"
                                            Content="2 Raisers" />

                                    </Grid>

                                </GroupBox>

                                <GroupBox
                                    Grid.Row="5"
                                    Style="{StaticResource BoxStyle}"
                                    Header="Position of 1st Raiser">

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition
                                                Width="{StaticResource FirstColumnWidth}" />
                                            <ColumnDefinition
                                                Width="{StaticResource SecondColumnWidth}" />
                                            <ColumnDefinition
                                                Width="{StaticResource ThirdColumnWidth}" />
                                            <ColumnDefinition
                                                Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition
                                                Height="{StaticResource SpaceBetweenRows}" />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <CheckBox
                                            Grid.Column="0"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionSBRaiser}"
                                            Content="Small Blind" />

                                        <CheckBox
                                            Grid.Column="1"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionEarlyRaiser}"
                                            Content="Early" />

                                        <CheckBox
                                            Grid.Column="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionCutoffRaiser}"
                                            Content="Cutoff" />

                                        <CheckBox
                                            Grid.Column="0"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionBBRaiser}"
                                            Content="Big Blind" />

                                        <CheckBox
                                            Grid.Column="1"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionMiddleRaiser}"
                                            Content="Middle" />

                                        <CheckBox
                                            Grid.Column="2"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionButtonRaiser}"
                                            Content="Button" />

                                    </Grid>

                                </GroupBox>

                                <GroupBox
                                    Grid.Row="6"
                                    Style="{StaticResource BoxStyle}"
                                    Header="Position of 3-bet">

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition
                                                Width="{StaticResource FirstColumnWidth}" />
                                            <ColumnDefinition
                                                Width="{StaticResource SecondColumnWidth}" />
                                            <ColumnDefinition
                                                Width="{StaticResource ThirdColumnWidth}" />
                                            <ColumnDefinition
                                                Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition
                                                Height="{StaticResource SpaceBetweenRows}" />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <CheckBox
                                            Grid.Column="0"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionSB3Bet}"
                                            Content="Small Blind" />

                                        <CheckBox
                                            Grid.Column="1"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionEarly3Bet}"
                                            Content="Early" />

                                        <CheckBox
                                            Grid.Column="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionCutoff3Bet}"
                                            Content="Cutoff" />

                                        <CheckBox
                                            Grid.Column="0"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionBB3Bet}"
                                            Content="Big Blind" />

                                        <CheckBox
                                            Grid.Column="1"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionMiddle3Bet}"
                                            Content="Middle" />

                                        <CheckBox
                                            Grid.Column="2"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.PositionButton3Bet}"
                                            Content="Button" />

                                    </Grid>

                                </GroupBox>

                                <GroupBox
                                    Grid.Row="7"
                                    Height="145"
                                    Style="{StaticResource BoxStyle}"
                                    Header="Misc">

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition
                                                Width="145" />
                                            <ColumnDefinition
                                                Width="{StaticResource SecondColumnWidth}" />
                                            <ColumnDefinition
                                                Width="{StaticResource ThirdColumnWidth}" />
                                            <ColumnDefinition
                                                Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition
                                                Height="Auto" />
                                            <RowDefinition
                                                Height="{StaticResource SpaceBetweenRows}" />
                                            <RowDefinition
                                                Height="Auto" />
                                            <RowDefinition
                                                Height="{StaticResource SpaceBetweenRows}" />
                                            <RowDefinition
                                                Height="Auto" />
                                        </Grid.RowDefinitions>

                                        <StackPanel
                                            Grid.ColumnSpan="2"
                                            Orientation="Horizontal">

                                            <TextBlock
                                                FontSize="12"
                                                Text="Minimum size of pot" />

                                            <xctk:DoubleUpDown
                                                Margin="3,0,3,0"
                                                Minimum="0"
                                                FormatString="F2"
                                                Increment="0.01"
                                                Maximum="1000"
                                                Value="{Binding SelectedNote.Settings.MBCMinSizeOfPot}" />

                                            <TextBlock
                                                FontSize="12"
                                                Text="BBs" />

                                        </StackPanel>

                                        <CheckBox
                                            Grid.Column="0"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding MBCWentToShowdown}"
                                            Content="Went to showdown" />

                                        <CheckBox
                                            Grid.Column="1"
                                            Grid.Row="2"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.Cash}"
                                            Content="Cash" />

                                        <CheckBox
                                            Grid.Column="0"
                                            Grid.Row="4"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding MBCAllInPreFlop}"
                                            Content="All-in Pre-flop" />

                                        <CheckBox
                                            Grid.Column="1"
                                            Grid.Row="4"
                                            Style="{StaticResource CheckBoxStyle}"
                                            IsChecked="{Binding SelectedNote.Settings.Tournament}"
                                            Content="Tournaments" />

                                    </Grid>

                                </GroupBox>

                            </Grid>
                        </ScrollViewer>
                    </TabItem>

                    <TabItem
                        Width="100"
                        Header="HOLE CARDS">

                        <ScrollViewer
                            VerticalScrollBarVisibility="Auto"
                            HorizontalScrollBarVisibility="Auto"
                            VerticalAlignment="Top">

                            <Grid
                                Margin="9,0,9,0">

                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition />
                                    <RowDefinition />
                                </Grid.RowDefinitions>

                                <StackPanel
                                    Orientation="Horizontal">

                                    <Button
                                        Content="SUITED 1 GAPPERS"
                                        Width="140"
                                        Style="{StaticResource SwitchModeButtonStyleNoBackground}"
                                        Command="{Binding HoleCardsSelectSuitedGappersCommand}" />

                                    <Button
                                        Content="SUITED CONNECTORS"
                                        Width="155"
                                        Margin="5,0,0,0"
                                        Style="{StaticResource SwitchModeButtonStyleNoBackground}"
                                        Command="{Binding HoleCardsSelectSuitedConnectorsCommand}" />

                                    <Button
                                        Content="POCKET PAIRS"
                                        Width="95"
                                        Margin="5,0,0,0"
                                        Style="{StaticResource SwitchModeButtonStyleNoBackground}"
                                        Command="{Binding HoleCardsSelectPocketPairsCommand}" />

                                </StackPanel>

                                <StackPanel
                                    Grid.Row="1"
                                    Margin="0,5,0,0"
                                    Orientation="Horizontal">

                                    <Button
                                        Content="OFF SUITED 1 GAPPERS"
                                        Width="140"
                                        Style="{StaticResource SwitchModeButtonStyleNoBackground}"
                                        Command="{Binding HoleCardsSelectOffSuitedGappersCommand}" />

                                    <Button
                                        Content="OFF SUITED CONNECTORS"
                                        Width="155"
                                        Margin="5,0,0,0"
                                        Style="{StaticResource SwitchModeButtonStyleNoBackground}"
                                        Command="{Binding HoleCardsSelectOffSuitedConnectorsCommand}" />

                                </StackPanel>

                                <Button
                                    Grid.Column="1"
                                    Grid.Row="0"
                                    Content="SELECT ALL"
                                    Width="125"
                                    Style="{StaticResource SwitchModeButtonStyle}"
                                    Command="{Binding HoleCardsSelectAllCommand}" />
                                <Button
                                    Grid.Column="1"
                                    Grid.Row="1"
                                    Content="SELECT NONE"
                                    Width="125"
                                    Margin="0,5,0,0"
                                    Command="{Binding HoleCardsSelectNoneCommand}"
                                    Style="{StaticResource SwitchModeButtonStyle}" />

                                <ItemsControl
                                    Grid.Row="2"
                                    Grid.ColumnSpan="2"
                                    Width="533"
                                    Margin="0,5,0,0"
                                    HorizontalAlignment="Left"
                                    ItemsSource="{Binding HoleCardsCollection}">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <UniformGrid
                                                Columns="13" />
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Grid
                                                Height="30"
                                                Width="39"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                MouseEnter="Grid_MouseEnter"
                                                Margin="1">

                                                <Grid.Style>
                                                    <Style
                                                        TargetType="Grid">
                                                        <Setter
                                                            Property="Background"
                                                            Value="{StaticResource BorderBrush}" />
                                                        <Style.Triggers>
                                                            <DataTrigger
                                                                Binding="{Binding Path=IsChecked}"
                                                                Value="True">
                                                                <Setter
                                                                    Property="Background"
                                                                    Value="{StaticResource SelectionBackgroundBrush}" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Grid.Style>
                                                <Grid.InputBindings>
                                                    <MouseBinding
                                                        Gesture="LeftDoubleClick"
                                                        Command="{Binding RelativeSource={RelativeSource AncestorType=ItemsControl}, Path=DataContext.HoleCardsDoubleLeftClickCommand}"
                                                        CommandParameter="{Binding}" />
                                                    <MouseBinding
                                                        Gesture="LeftClick"
                                                        Command="{Binding RelativeSource={RelativeSource AncestorType=ItemsControl}, Path=DataContext.HoleCardsLeftClickCommand}"
                                                        CommandParameter="{Binding}" />

                                                </Grid.InputBindings>
                                                <i:Interaction.Triggers>
                                                    <i:EventTrigger
                                                        EventName="MouseEnter">
                                                        <i:InvokeCommandAction
                                                            Command="{Binding RelativeSource={RelativeSource AncestorType=ItemsControl}, Path=DataContext.HoleCardsMouseEnterCommand}"
                                                            CommandParameter="{Binding}" />
                                                    </i:EventTrigger>
                                                </i:Interaction.Triggers>

                                                <TextBlock
                                                    Text="{Binding Name}"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center" />
                                            </Grid>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>

                            </Grid>

                        </ScrollViewer>

                    </TabItem>

                    <TabItem
                        Width="120"
                        Header="DISPLAYED NOTE">

                        <TextBox
                            Margin="7,0,7,0"
                            Height="100"
                            AcceptsReturn="True"
                            VerticalAlignment="Top"
                            Text="{Binding SelectedNote.DisplayedNote}"
                            TextWrapping="Wrap">
                            <TextBox.Effect>
                                <DropShadowEffect
                                    BlurRadius="7"
                                    ShadowDepth="0"
                                    Color="{DynamicResource DropShadowColor}" />
                            </TextBox.Effect>
                        </TextBox>

                    </TabItem>
                </TabControl>

                <!-- ADVANCED SETTINGS -->
                <TabControl
                    BorderThickness="0"
                    Margin="0"
                    VerticalAlignment="Stretch"
                    Visibility="{Binding IsAdvancedMode, Converter={dh:BoolToVisibilityConverter}}"
                    ItemContainerStyle="{DynamicResource NoteSettingsTabItemStyle}"
                    Style="{DynamicResource NoteSettingsTabControlStyle}">

                    <TabItem
                        Width="85"
                        Header="ACTIONS">

                        <Border
                            BorderBrush="{StaticResource BorderBrush}"
                            BorderThickness="1"
                            Margin="9,0,9,0"
                            MinHeight="107"
                            MaxHeight="200"
                            VerticalAlignment="Top"
                            Background="{StaticResource PanelBackgroundBrush}">

                            <Border.Effect>
                                <DropShadowEffect
                                    BlurRadius="7"
                                    ShadowDepth="0"
                                    Color="{DynamicResource DropShadowColor}" />
                            </Border.Effect>

                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition
                                        Height="30" />
                                    <RowDefinition
                                        Height="10" />
                                    <RowDefinition
                                        Height="30" />
                                    <RowDefinition
                                        Height="30" />
                                    <RowDefinition
                                        Height="30" />
                                    <RowDefinition
                                        Height="30" />
                                    <RowDefinition
                                        Height="10" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition
                                        Width="120" />
                                    <ColumnDefinition
                                        Width="75" />
                                    <ColumnDefinition
                                        Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid.Resources>
                                    <Style
                                        TargetType="TextBlock"
                                        BasedOn="{StaticResource {x:Type TextBlock}}">
                                        <Setter
                                            Property="FontSize"
                                            Value="12" />
                                        <Setter
                                            Property="FontFamily"
                                            Value="/Fonts/#Roboto Regular" />
                                        <Setter
                                            Property="Margin"
                                            Value="10,0,0,0" />
                                    </Style>
                                </Grid.Resources>

                                <Border
                                    Grid.ColumnSpan="3"
                                    BorderThickness="0,0,0,1"
                                    BorderBrush="{StaticResource BorderBrush}"
                                    Height="30" />

                                <StackPanel
                                    Grid.ColumnSpan="3"
                                    Margin="10,0,0,0"
                                    HorizontalAlignment="Left"
                                    Orientation="Horizontal">

                                    <ctl:MenuButton
                                        Style="{StaticResource StreetMenuButtonStyle}"
                                        Width="70"
                                        GroupName="ActionStageGroup"
                                        IsChecked="{Binding ActionStageType, Converter={dh:EnumBoolConverter}, ConverterParameter={x:Static dt:NoteStageType.PreFlop}}"
                                        Content="PRE-FLOP" />

                                    <ctl:MenuButton
                                        Style="{StaticResource StreetMenuButtonStyle}"
                                        Width="50"
                                        GroupName="ActionStageGroup"
                                        IsChecked="{Binding ActionStageType, Converter={dh:EnumBoolConverter}, ConverterParameter={x:Static dt:NoteStageType.Flop}}"
                                        Content="FLOP" />

                                    <ctl:MenuButton
                                        Style="{StaticResource StreetMenuButtonStyle}"
                                        Width="50"
                                        GroupName="ActionStageGroup"
                                        IsChecked="{Binding ActionStageType, Converter={dh:EnumBoolConverter}, ConverterParameter={x:Static dt:NoteStageType.Turn}}"
                                        Content="TURN" />

                                    <ctl:MenuButton
                                        Style="{StaticResource StreetMenuButtonStyle}"
                                        Width="50"
                                        GroupName="ActionStageGroup"
                                        IsChecked="{Binding ActionStageType, Converter={dh:EnumBoolConverter}, ConverterParameter={x:Static dt:NoteStageType.River}}"
                                        Content="RIVER" />

                                </StackPanel>

                                <TextBlock
                                    Grid.Row="2"
                                    Text="First Action:" />

                                <TextBlock
                                    Grid.Row="3"
                                    Text="Second Action:" />

                                <TextBlock
                                    Grid.Row="4"
                                    Text="Third Action:" />

                                <TextBlock
                                    Grid.Row="5"
                                    Text="Fourth Action:" />

                                <ComboBox
                                    Grid.Row="2"
                                    Grid.Column="1"
                                    Style="{StaticResource ComboBoxStyle}"
                                    SelectedItem="{Binding CurrentActionSettings.FirstType}"
                                    ItemsSource="{Binding FirstActions}" />

                                <ComboBox
                                    Grid.Row="3"
                                    Grid.Column="1"
                                    Style="{StaticResource ComboBoxStyle}"
                                    SelectedItem="{Binding CurrentActionSettings.SecondType}"
                                    ItemsSource="{Binding SecondActions}" />

                                <ComboBox
                                    Grid.Row="4"
                                    Grid.Column="1"
                                    Style="{StaticResource ComboBoxStyle}"
                                    SelectedItem="{Binding CurrentActionSettings.ThirdType}"
                                    ItemsSource="{Binding ThirdActions}" />

                                <ComboBox
                                    Grid.Row="5"
                                    Grid.Column="1"
                                    Style="{StaticResource ComboBoxStyle}"
                                    SelectedItem="{Binding CurrentActionSettings.FourthType}"
                                    ItemsSource="{Binding FourthActions}" />

                                <StackPanel
                                    Grid.Row="2"
                                    Grid.Column="2"
                                    Orientation="Horizontal"
                                    Visibility="{Binding CurrentActionSettings.FirstType, Converter={StaticResource ActionToBetweenVisibilityConverter}}">

                                    <TextBlock
                                        Text="between" />

                                    <xctk:DoubleUpDown
                                        Margin="3,0,3,0"
                                        Minimum="0"
                                        Maximum="100"
                                        Increment="0.1"
                                        Width="55"
                                        Value="{Binding CurrentActionSettings.FirstMinValue}"
                                        FormatString="F1" />

                                    <TextBlock
                                        Margin="0"
                                        Text="and" />

                                    <xctk:DoubleUpDown
                                        Margin="3,0,3,0"
                                        Minimum="0"
                                        Maximum="100"
                                        Increment="0.1"
                                        Width="55"
                                        Value="{Binding CurrentActionSettings.FirstMaxValue}"
                                        FormatString="F1" />

                                    <TextBlock
                                        Margin="0"
                                        Text="% of the pot" />

                                </StackPanel>

                                <StackPanel
                                    Grid.Row="3"
                                    Grid.Column="2"
                                    Orientation="Horizontal"
                                    Visibility="{Binding CurrentActionSettings.SecondType, Converter={StaticResource ActionToBetweenVisibilityConverter}}">

                                    <TextBlock
                                        Text="between" />

                                    <xctk:DoubleUpDown
                                        Margin="3,0,3,0"
                                        Minimum="0"
                                        Maximum="100"
                                        Increment="0.1"
                                        Width="55"
                                        Value="{Binding CurrentActionSettings.SecondMinValue}"
                                        FormatString="F1" />

                                    <TextBlock
                                        Margin="0"
                                        Text="and" />

                                    <xctk:DoubleUpDown
                                        Margin="3,0,3,0"
                                        Minimum="0"
                                        Maximum="100"
                                        Increment="0.1"
                                        Width="55"
                                        Value="{Binding CurrentActionSettings.SecondMaxValue}"
                                        FormatString="F1" />

                                    <TextBlock
                                        Margin="0"
                                        Text="% of the pot" />

                                </StackPanel>

                                <StackPanel
                                    Grid.Row="4"
                                    Grid.Column="2"
                                    Orientation="Horizontal"
                                    Visibility="{Binding CurrentActionSettings.ThirdType, Converter={StaticResource ActionToBetweenVisibilityConverter}}">

                                    <TextBlock
                                        Text="between" />

                                    <xctk:DoubleUpDown
                                        Margin="3,0,3,0"
                                        Minimum="0"
                                        Maximum="100"
                                        Increment="0.1"
                                        Width="55"
                                        Value="{Binding CurrentActionSettings.ThirdMinValue}"
                                        FormatString="F1" />

                                    <TextBlock
                                        Margin="0"
                                        Text="and" />

                                    <xctk:DoubleUpDown
                                        Margin="3,0,3,0"
                                        Minimum="0"
                                        Maximum="100"
                                        Increment="0.1"
                                        Width="55"
                                        Value="{Binding CurrentActionSettings.ThirdMaxValue}"
                                        FormatString="F1" />

                                    <TextBlock
                                        Margin="0"
                                        Text="% of the pot" />

                                </StackPanel>

                                <StackPanel
                                    Grid.Row="5"
                                    Grid.Column="2"
                                    Orientation="Horizontal"
                                    Visibility="{Binding CurrentActionSettings.FourthType, Converter={StaticResource ActionToBetweenVisibilityConverter}}">

                                    <TextBlock
                                        Text="between" />

                                    <xctk:DoubleUpDown
                                        Margin="3,0,3,0"
                                        Minimum="0"
                                        Maximum="100"
                                        Increment="0.1"
                                        Width="55"
                                        Value="{Binding CurrentActionSettings.FourthMinValue}"
                                        FormatString="F1" />

                                    <TextBlock
                                        Margin="0"
                                        Text="and" />

                                    <xctk:DoubleUpDown
                                        Margin="3,0,3,0"
                                        Minimum="0"
                                        Maximum="100"
                                        Increment="0.1"
                                        Width="55"
                                        Value="{Binding CurrentActionSettings.FourthMaxValue}"
                                        FormatString="F1" />

                                    <TextBlock
                                        Margin="0"
                                        Text="% of the pot" />

                                </StackPanel>

                            </Grid>

                        </Border>

                    </TabItem>

                    <TabItem
                        Width="85"
                        Header="FILTERS">

                        <Grid>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition
                                    Width="*" />
                                <ColumnDefinition
                                    Width="41" />
                                <ColumnDefinition
                                    Width="*" />
                            </Grid.ColumnDefinitions>

                            <GroupBox
                                Style="{StaticResource BoxStyle}"
                                Margin="15,0,0,0"
                                Padding="0"
                                Header="Filters">
                                <GroupBox.Height>
                                    <sys:Double>NaN</sys:Double>
                                </GroupBox.Height>

                                <TreeView
                                    Foreground="{StaticResource ForegroundBrush}"
                                    FontFamily="/Fonts/#Roboto Regular"
                                    ItemsSource="{Binding FiltersCollectionView.Groups, Converter={StaticResource CollectionViewGroupConverter}}"
                                    Margin="0"
                                    FontSize="12">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger
                                            EventName="MouseDoubleClick">
                                            <i:InvokeCommandAction
                                                Command="{Binding AddToSelectedFiltersCommand}" />
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                    <TreeView.Resources>
                                        <DataTemplate
                                            x:Key="FilterTemplate">
                                            <TextBlock
                                                ToolTip="{Binding Description}"
                                                Text="{Binding Description}" />
                                        </DataTemplate>
                                    </TreeView.Resources>

                                    <TreeView.ItemTemplate>
                                        <HierarchicalDataTemplate
                                            ItemsSource="{Binding Path=Items}"
                                            ItemTemplate="{StaticResource FilterTemplate}">
                                            <TextBlock
                                                Text="{Binding Name}"
                                                Margin="3,0,0,0" />
                                        </HierarchicalDataTemplate>
                                    </TreeView.ItemTemplate>
                                </TreeView>

                            </GroupBox>

                            <StackPanel
                                VerticalAlignment="Center"
                                HorizontalAlignment="Center"
                                Grid.Column="1">

                                <Button
                                    Command="{Binding AddToSelectedFiltersCommand}"
                                    Style="{StaticResource SimpleImageButtonStyle}">
                                    <Image
                                        Source="/DriveHUD.PlayerXRay;component/Resources/ArrowRight.png"
                                        Width="24"
                                        Height="24" />
                                </Button>

                                <Button
                                    Command="{Binding RemoveFromSelectedFiltersCommand}"
                                    Style="{StaticResource SimpleImageButtonStyle}"
                                    Margin="0,14,0,0">
                                    <Image
                                        Source="/DriveHUD.PlayerXRay;component/Resources/ArrowLeft.png"
                                        Width="24"
                                        Height="24" />
                                </Button>

                            </StackPanel>

                            <GroupBox
                                Grid.Column="2"
                                Margin="0,0,15,0"
                                Style="{StaticResource BoxStyle}"
                                Padding="0"
                                Header="Selected Filters">
                                <GroupBox.Height>
                                    <sys:Double>NaN</sys:Double>
                                </GroupBox.Height>

                                <TreeView
                                    Foreground="{StaticResource ForegroundBrush}"
                                    FontFamily="/Fonts/#Roboto Regular"
                                    ItemsSource="{Binding SelectedFiltersCollectionView.Groups}"
                                    Margin="0"
                                    FontSize="12">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger
                                            EventName="MouseDoubleClick">
                                            <i:InvokeCommandAction
                                                Command="{Binding RemoveFromSelectedFiltersCommand}" />
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                    <TreeView.Resources>
                                        <DataTemplate
                                            x:Key="FilterTemplate">
                                            <StackPanel
                                                ToolTip="{Binding ToolTip}"
                                                Orientation="Horizontal">
                                                <TextBlock
                                                    Text="{Binding Description}" />
                                                <TextBlock
                                                    Visibility="{Binding Value, Converter={dh:NullToVisibilityConverter}}">
                                                    <Run
                                                        Text=" (" />
                                                    <Run
                                                        Text="{Binding Value}" />
                                                     <Run
                                                        Text=")" />
                                                </TextBlock>
                                            </StackPanel>
                                        </DataTemplate>
                                    </TreeView.Resources>

                                    <TreeView.ItemTemplate>
                                        <HierarchicalDataTemplate
                                            ItemsSource="{Binding Path=Items}"
                                            ItemTemplate="{StaticResource FilterTemplate}">
                                            <TextBlock
                                                Text="{Binding Name}"
                                                Margin="3,0,0,0" />
                                        </HierarchicalDataTemplate>
                                    </TreeView.ItemTemplate>
                                </TreeView>

                            </GroupBox>

                        </Grid>

                    </TabItem>

                    <TabItem
                        Width="100"
                        Header="HAND VALUES">

                        <Border
                            BorderBrush="{StaticResource BorderBrush}"
                            BorderThickness="1"
                            Margin="9,0,9,0"
                            Background="{StaticResource PanelBackgroundBrush}">

                            <Border.Effect>
                                <DropShadowEffect
                                    BlurRadius="7"
                                    ShadowDepth="0"
                                    Color="{DynamicResource DropShadowColor}" />
                            </Border.Effect>

                            <Grid>

                                <Border
                                    BorderThickness="0,0,0,1"
                                    BorderBrush="{StaticResource BorderBrush}"
                                    VerticalAlignment="Top"
                                    Height="30" />

                                <TabControl
                                    BorderThickness="0"
                                    Margin="0"
                                    VerticalAlignment="Stretch"
                                    ItemContainerStyle="{DynamicResource HandValuesSettingsTabItemStyle}"
                                    Style="{DynamicResource NoteSettingsTabControlStyle}">

                                    <TabItem
                                        Width="70"
                                        Header="FLOP">

                                        <StackPanel
                                            Margin="10,0,0,0">

                                            <CheckBox
                                                Style="{StaticResource CheckBoxStyle}"
                                                Content="Any Hand Value"
                                                IsChecked="{Binding FlopAnyHandValue}" />

                                            <ListBox
                                                IsEnabled="{Binding SelectedNote.Settings.FlopHvSettings.AnyHv, Converter={dh:BoolNotConverter}}"
                                                Style="{StaticResource HandValuesListBoxStyle}"
                                                Height="205"
                                                SelectionMode="Extended"
                                                ItemContainerStyle="{StaticResource HandValueListBoxItemStyle}"
                                                ItemsSource="{Binding FlopHandValues, Mode=OneWay}">

                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock
                                                            Text="{Binding Name}" />
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>

                                            </ListBox>

                                            <CheckBox
                                                Margin="0,5,0,0"
                                                Style="{StaticResource CheckBoxStyle}"
                                                Content="Any Flush Draw Value"
                                                IsChecked="{Binding FlopAnyFlushDrawsHandValue}" />

                                            <ListBox
                                                IsEnabled="{Binding SelectedNote.Settings.FlopHvSettings.AnyFlushDraws, Converter={dh:BoolNotConverter}}"
                                                Style="{StaticResource HandValuesListBoxStyle}"
                                                SelectionMode="Extended"
                                                ItemContainerStyle="{StaticResource HandValueListBoxItemStyle}"
                                                ItemsSource="{Binding FlopFlushDrawHandValues, Mode=OneWay}">

                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock
                                                            Text="{Binding Name}" />
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>

                                            </ListBox>

                                            <CheckBox
                                                Margin="0,5,0,0"
                                                Style="{StaticResource CheckBoxStyle}"
                                                Content="Any Straight Draw Value"
                                                IsChecked="{Binding FlopAnyStraightDrawsHandValue}" />

                                            <ListBox
                                                IsEnabled="{Binding SelectedNote.Settings.FlopHvSettings.AnyStraightDraws, Converter={dh:BoolNotConverter}}"
                                                Style="{StaticResource HandValuesListBoxStyle}"
                                                SelectionMode="Extended"
                                                ItemContainerStyle="{StaticResource HandValueListBoxItemStyle}"
                                                ItemsSource="{Binding FlopStraightDrawHandValues, Mode=OneWay}">

                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock
                                                            Text="{Binding Name}" />
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>

                                            </ListBox>

                                        </StackPanel>

                                    </TabItem>

                                    <TabItem
                                        Width="70"
                                        Header="TURN">

                                        <StackPanel
                                            Margin="10,0,0,0">

                                            <CheckBox
                                                Style="{StaticResource CheckBoxStyle}"
                                                Content="Any Hand Value"
                                                IsChecked="{Binding TurnAnyHandValue}" />

                                            <ListBox
                                                IsEnabled="{Binding SelectedNote.Settings.TurnHvSettings.AnyHv, Converter={dh:BoolNotConverter}}"
                                                Style="{StaticResource HandValuesListBoxStyle}"
                                                Height="205"
                                                SelectionMode="Extended"
                                                ItemContainerStyle="{StaticResource HandValueListBoxItemStyle}"
                                                ItemsSource="{Binding TurnHandValues, Mode=OneWay}">

                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock
                                                            Text="{Binding Name}" />
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>

                                            </ListBox>

                                            <CheckBox
                                                Margin="0,5,0,0"
                                                Style="{StaticResource CheckBoxStyle}"
                                                Content="Any Flush Draw Value"
                                                IsChecked="{Binding TurnAnyFlushDrawsHandValue}" />

                                            <ListBox
                                                IsEnabled="{Binding SelectedNote.Settings.TurnHvSettings.AnyFlushDraws, Converter={dh:BoolNotConverter}}"
                                                Style="{StaticResource HandValuesListBoxStyle}"
                                                SelectionMode="Extended"
                                                ItemContainerStyle="{StaticResource HandValueListBoxItemStyle}"
                                                ItemsSource="{Binding TurnFlushDrawHandValues, Mode=OneWay}">

                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock
                                                            Text="{Binding Name}" />
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>

                                            </ListBox>

                                            <CheckBox
                                                Margin="0,5,0,0"
                                                Style="{StaticResource CheckBoxStyle}"
                                                Content="Any Straight Draw Value"
                                                IsChecked="{Binding TurnAnyStraightDrawsHandValue}" />

                                            <ListBox
                                                IsEnabled="{Binding SelectedNote.Settings.TurnHvSettings.AnyStraightDraws, Converter={dh:BoolNotConverter}}"
                                                Style="{StaticResource HandValuesListBoxStyle}"
                                                SelectionMode="Extended"
                                                ItemContainerStyle="{StaticResource HandValueListBoxItemStyle}"
                                                ItemsSource="{Binding TurnStraightDrawHandValues, Mode=OneWay}">

                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock
                                                            Text="{Binding Name}" />
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>

                                            </ListBox>

                                        </StackPanel>

                                    </TabItem>

                                    <TabItem
                                        Width="70"
                                        Header="RIVER">

                                        <Grid
                                            Margin="10,0,0,0">

                                            <Grid.RowDefinitions>
                                                <RowDefinition
                                                    Height="Auto" />
                                                <RowDefinition
                                                    Height="*" />
                                            </Grid.RowDefinitions>

                                            <CheckBox
                                                Grid.Row="0"
                                                Style="{StaticResource CheckBoxStyle}"
                                                Content="Any Hand Value"
                                                IsChecked="{Binding RiverAnyHandValue}" />

                                            <ListBox
                                                Grid.Row="1"
                                                IsEnabled="{Binding SelectedNote.Settings.RiverHvSettings.AnyHv, Converter={dh:BoolNotConverter}}"
                                                Style="{StaticResource HandValuesListBoxStyle}"
                                                SelectionMode="Extended"
                                                ItemContainerStyle="{StaticResource HandValueListBoxItemStyle}"
                                                ItemsSource="{Binding RiverHandValues, Mode=OneWay}">
                                                <ListBox.Height>
                                                    <sys:Double>NaN</sys:Double>
                                                </ListBox.Height>

                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock
                                                            Text="{Binding Name}" />
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>

                                            </ListBox>

                                        </Grid>

                                    </TabItem>

                                </TabControl>

                            </Grid>
                        </Border>

                    </TabItem>

                    <TabItem
                        Width="110"
                        Header="BOARD TEXTURE">

                        <Border
                            BorderBrush="{StaticResource BorderBrush}"
                            BorderThickness="1"
                            Margin="9,0,9,0"
                            Background="{StaticResource PanelBackgroundBrush}">

                            <Border.Effect>
                                <DropShadowEffect
                                    BlurRadius="7"
                                    ShadowDepth="0"
                                    Color="{DynamicResource DropShadowColor}" />
                            </Border.Effect>

                            <Grid>

                                <Border
                                    BorderThickness="0,0,0,1"
                                    BorderBrush="{StaticResource BorderBrush}"
                                    VerticalAlignment="Top"
                                    Height="30" />

                                <TabControl
                                    BorderThickness="0"
                                    Margin="0"
                                    VerticalAlignment="Stretch"
                                    ItemContainerStyle="{DynamicResource HandValuesSettingsTabItemStyle}"
                                    Style="{DynamicResource NoteSettingsTabControlStyle}">

                                    <TabItem
                                        Width="70"
                                        Header="FLOP">

                                        <local:BoardTextureView
                                            VerticalAlignment="Top"
                                            Margin="10,0,0,0"
                                            DataContext="{Binding SelectedNote.Settings.FlopTextureSettings}" />

                                    </TabItem>

                                    <TabItem
                                        Width="70"
                                        Header="TURN">

                                        <local:BoardTextureView
                                            VerticalAlignment="Top"
                                            Margin="10,0,0,0"
                                            DataContext="{Binding SelectedNote.Settings.TurnTextureSettings}" />

                                    </TabItem>

                                    <TabItem
                                        Width="70"
                                        Header="RIVER">

                                        <local:BoardTextureView
                                            VerticalAlignment="Top"
                                            Margin="10,0,0,0"
                                            DataContext="{Binding SelectedNote.Settings.RiverTextureSettings}" />

                                    </TabItem>

                                </TabControl>

                            </Grid>
                        </Border>

                    </TabItem>

                </TabControl>

                <Grid
                    Height="40"
                    Margin="0,0,9,0"
                    VerticalAlignment="Top">

                    <Button
                        Content="ADVANCED MODE"
                        Style="{StaticResource SwitchModeButtonStyle}"
                        Visibility="{Binding IsAdvancedMode, Converter={dh:BoolToVisibilityConverter}, ConverterParameter=1}"
                        Command="{Binding SwitchModeCommand}" />

                    <Button
                        Content="SIMPLE MODE"
                        Style="{StaticResource SwitchModeButtonStyle}"
                        Visibility="{Binding IsAdvancedMode, Converter={dh:BoolToVisibilityConverter}}"
                        Command="{Binding SwitchModeCommand}" />

                </Grid>

            </Grid>

        </Border>

    </Grid>
</UserControl>